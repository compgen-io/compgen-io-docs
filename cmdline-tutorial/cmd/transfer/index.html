<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">

    
    <title>Tranferring data - Command-line tutorial&nbsp;&nbsp;</title>
    

<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-IIED/eyOkM6ihtOiQsX2zizxFBphgnv1zbe1bKA+njdFzkr6cDNy16jfIKWu4FNH" crossorigin="anonymous">

<!--
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
-->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">

    
    <link href="../../css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="nav navbar-logo" href="/"><i class="fas fa-books"></i>&nbsp;&nbsp;docs.compgen.io</a>
            <a class="navbar-brand" href="../..">Command-line tutorial&nbsp;&nbsp;</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Command-line <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../..">Welcome</a>
</li>

                        
                            
<li >
    <a href="../concepts/">Unix concepts</a>
</li>

                        
                            
<li >
    <a href="../terminal/">Terminal / SSH</a>
</li>

                        
                            
<li >
    <a href="../common/">Common commands</a>
</li>

                        
                            
<li class="active">
    <a href="./">Tranferring data</a>
</li>

                        
                            
<li >
    <a href="../customizing/">Customizing the shell</a>
</li>

                        
                            
<li >
    <a href="../scripts/">Writing scripts</a>
</li>

                        
                            
<li >
    <a href="../02-Data_Processing/">Data pipelines</a>
</li>

                        
                            
<li >
    <a href="../otherlinks/">Links</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../git/">Git</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../clusters/">Cluster jobs</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../common/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../customizing/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/compgen-io/cmdline-tutorial/edit/master/docs/cmd/transfer.md"><i class="fab fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#transferring-data">Transferring data</a></li>
            <li class="second-level"><a href="#command-line-programs">Command-line programs</a></li>
                
                <li class="third-level"><a href="#scp">scp</a></li>
                <li class="third-level"><a href="#sftp">sftp</a></li>
                <li class="third-level"><a href="#rsync">rsync</a></li>
                <li class="third-level"><a href="#downloading-with-httpftp">Downloading with HTTP/FTP</a></li>
            <li class="second-level"><a href="#gui">GUI</a></li>
                
                <li class="third-level"><a href="#cyberduck-macos-windows">Cyberduck (macOS, Windows)</a></li>
                <li class="third-level"><a href="#winscp-windows">WinSCP (Windows)</a></li>
                <li class="third-level"><a href="#mobaxterm-windows">MobaXterm (Windows)</a></li>
                <li class="third-level"><a href="#secure-shellfish-ios">Secure ShellFish (iOS)</a></li>
            <li class="second-level"><a href="#cloud-file-sync-services">Cloud file sync services</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="transferring-data">Transferring data</h1>
<p>Getting data onto a remote system and getting results back to your local computer can sometimes be a bit of a challenge. Unsurprisingly, there are a few options available to you, including some good GUI options.</p>
<h2 id="command-line-programs">Command-line programs</h2>
<p>For the below programs, <code>scp</code> and <code>sftp</code> should be already installed. If you are using Windows, there are command-line versions of these programs available as well, such as those supplied with PuTTY (although, they may have slightly different names). <code>rsync</code> is also installed by default on Macs, but you may need to install it separately if you are using a Linux client. <code>scp</code>, <code>sftp</code>, and <code>rsync</code> all work over the SSH protocol, so for any server that you can connect to via SSH, you can use these programs to transfer data.</p>
<h3 id="scp">scp</h3>
<p><code>scp</code> can be used to copy files from one location to another. The locations can be local or remote. You can even use scp to transfer files from one server to a different server.</p>
<div class="codehilite"><pre><span></span><code><span class="n">scp</span><span class="w"> </span><span class="n">localfile</span><span class="w"> </span><span class="n">username</span><span class="nv">@server</span><span class="err">:</span><span class="n">dest_dir</span><span class="o">/</span><span class="n">filename</span><span class="w"></span>

<span class="n">scp</span><span class="w"> </span><span class="n">username</span><span class="nv">@server</span><span class="err">:</span><span class="n">dest_dir</span><span class="o">/</span><span class="n">filename</span><span class="w"> </span><span class="n">local_dir</span><span class="o">/</span><span class="n">local_file</span><span class="w"></span>
</code></pre></div>


<h3 id="sftp">sftp</h3>
<p><code>sftp</code> is like <code>scp</code>, but interactive. You can connect to the remote SFTP server, list files, get files, put files, etc&hellip; This is a command-line program, but it is one way to interactively browse around the files on a remote server.</p>
<div class="codehilite"><pre><span></span><code><span class="err">sftp username@server</span>
</code></pre></div>


<p>Once connected, you can <code>ls</code> and <code>cd</code> to navigate around. When you want to download a file, run <code>get remote_filename</code>.  When you want to upload a file, run <code>put local_filename</code> When you are done and want to disconnect, run <code>exit</code>.</p>
<h3 id="rsync">rsync</h3>
<p>A final option is <code>rsync</code>. Rsync works by finding the files changed between two locations (local and remote), and sending only the changed data between the two. This is particularly helpful when you are transfering a lot of data or trying to keep two computers in sync with each other. This can also be used to copy files on the same server or between servers.</p>
<div class="codehilite"><pre><span></span><code><span class="n">rsync</span><span class="w"> </span><span class="n">localfile</span><span class="w"> </span><span class="n">username</span><span class="nv">@server</span><span class="err">:</span><span class="n">dest_dir</span><span class="o">/</span><span class="n">filename</span><span class="w"></span>

<span class="n">rsync</span><span class="w"> </span><span class="n">username</span><span class="nv">@server</span><span class="err">:</span><span class="n">dest_dir</span><span class="o">/</span><span class="n">filename</span><span class="w"> </span><span class="n">local_dir</span><span class="o">/</span><span class="n">local_file</span><span class="w"></span>

<span class="n">rsync</span><span class="w"> </span><span class="n">localfile1</span><span class="w"> </span><span class="n">localfile2</span><span class="w"></span>

<span class="n">rsync</span><span class="w"> </span><span class="n">username</span><span class="nv">@server1</span><span class="err">:</span><span class="n">dir</span><span class="o">/</span><span class="n">filename</span><span class="w">  </span><span class="n">username</span><span class="nv">@server2</span><span class="err">:</span><span class="n">dest_dir</span><span class="o">/</span><span class="n">filename</span><span class="w"></span>
</code></pre></div>


<p>If this looks the same as the <code>scp</code> instructions, that&rsquo;s because it is! However, you almost always want to run <code>rsync</code> with a few options.</p>
<div class="codehilite"><pre><span></span><code><span class="n">rsync</span><span class="w"> </span><span class="o">-</span><span class="n">avz</span><span class="w"> </span><span class="c1">--progress localfile username@server:dest_dir/filename</span>

<span class="n">rsync</span><span class="w"> </span><span class="o">-</span><span class="n">avz</span><span class="w"> </span><span class="c1">--progress username@server:dest_dir/filename local_dir/local_file</span>

<span class="n">rsync</span><span class="w"> </span><span class="o">-</span><span class="n">av</span><span class="w"> </span><span class="c1">--progress localfile1 localfile2</span>

<span class="n">rsync</span><span class="w"> </span><span class="o">-</span><span class="n">avz</span><span class="w"> </span><span class="c1">--progress username@server1:dir/filename  username@server2:dest_dir/filename</span>
</code></pre></div>


<p>Here, we added the <code>-a</code>, <code>-v</code>, <code>-z</code> and <code>--progress</code> options. <code>-a</code> stands for &ldquo;archive&rdquo;, which sync directories (recursively), permissions, dates, owner information, etc. Not all of these will translate to your local computer, but it is very useful when transferring files on the same server or between servers with the same user/group configurations. <code>-v</code> stands for &ldquo;verbose&rdquo;. This will print out a bit more information about the transfer on the terminal for you to see how the transfer is progressing. <code>-z</code> enables zlib compression while you are transferring. This doesn&rsquo;t help if you are copying files on the same server, but can save a lot of bandwidth when copying to/from a remote server. Finally, the <code>--progress</code> option tells rsync to print out a progress meter for the current transfer. It isn&rsquo;t necessary, but it is a nice way to monitor the status of the current file&rsquo;s transmission.</p>
<h3 id="downloading-with-httpftp">Downloading with HTTP/FTP</h3>
<p>Another option you have to get data onto a server is to download it from a public web (HTTP) or FTP server. There are two primary tools that you can use at the command line to manage this: <code>curl</code> and <code>wget</code>. They are roughly equivalent for this purpose and pretty easy to use. The main benefit of using tools like this is that you have a great deal of visibility into the data transfer if/when things go wrong. For a simple download though, they are pretty easy to use. Below is an example of how to download a file using curl:</p>
<div class="codehilite"><pre><span></span><code><span class="err">curl -LO https://example.com/test.dat</span>
</code></pre></div>


<p>In this example, the file you want to download is located at this URL: <code>https://example.com/test.dat</code>. The <code>-L</code> in the argument list tells curl to follow any redirection commands the server sends. Sometimes a server will redirect you to a different URL to download data. One common example is a redirection from a non-encrypted connection (HTTP) to an encrypted one (HTTPS). This is very common and happens transparently when you use a GUI web browser like Google Chrome or Firefox. Unfortunately, we have to explicitly tell curl to do the same. The <code>-O</code> argument tells curl to save the file as <code>test.dat</code> locally. By default, curl will send the data to <a href="../concepts/#onputoutput-streams">stdout</a>.</p>
<h2 id="gui">GUI</h2>
<h3 id="cyberduck-macos-windows">Cyberduck (macOS, Windows)</h3>
<p>If you prefer a GUI program, one option is the <a href="https://cyberduck.io/">Cyberduck</a> program. It is available for Windows and Mac, and can make it easy to upload and download data from a remote server. It is also available for free, which is another bonus (but there is a donation prompt that appears until you register the program for $10).</p>
<p><img alt="Cyberduck browser" src="../img/browser.png" /></p>
<p>For more information see here: <a href="https://cyberduck.io/">https://cyberduck.io/</a></p>
<h3 id="winscp-windows">WinSCP (Windows)</h3>
<p><a href="https://winscp.net/">WinSCP</a> is a popular SFTP client for Windows. It has a pretty standard explorer interface where you can browse both your local computer and the remote server. This lets you copy files back and forth between them very easily. It is free to use.</p>
<p><img alt="WinSCP browser" src="../img/winscp.png" /></p>
<h3 id="mobaxterm-windows">MobaXterm (Windows)</h3>
<p>If you&rsquo;re using Windows, the MobaXterm program can be used to provide both SSH access to remote servers as well as SFTP access to transfer files back and forth.</p>
<p><img alt="MobaXterm SFTP" src="../img/feature-sftp-browser.png" /></p>
<h3 id="secure-shellfish-ios">Secure ShellFish (iOS)</h3>
<p>There is also an option for data transfer when using an iPad or iPhone! You can use the program Secure ShellFish to link a remote server (using SSH/SFTP) to the iOS Files.app.</p>
<p><img alt="Secure ShellFish" src="../img/shellfish.png" /></p>
<h2 id="cloud-file-sync-services">Cloud file sync services</h2>
<p>It is possible to use cloud sync services like Dropbox or Box.net with a Linux server, but it can be <em>very</em> complicated to setup. For some enterprise customers these services will sometimes enable an FTP gateway, which lets users upload and download files using an FTP client. However this is not a common setup and not available to everyone.</p>
<p>There are also some command-line tools available that will upload and download files from cloud services. One example is from the Cyberduck group called <a href="https://duck.sh/">duck.sh</a>. For more information on this, see the <a href="https://trac.cyberduck.io/wiki/help/en/howto/cli">Cyberduck wiki</a>.</p></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <!--
		<small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
	-->
	</p>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    
    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
